<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Unisaver — Official App | Download, Organize & Protect Your Media</title>
  <meta name="description" content="Official Unisaver app. Save, organize and protect your media. iOS & Android with batch/background downloads, vault, ad-block browser, VPN. Free web downloader included for quick saves." />
  <meta name="keywords" content="Unisaver app, media downloader app, video downloader app, Instagram downloader, TikTok downloader, YouTube downloader, status saver, vault, VPN" />
  <link rel="canonical" href="https://unisaver-downloader.vercel.app/" />

  <!-- Ad network site verification -->
  <meta name="site-verification-16003" content="f87553f5e5603076aa4dbaa9fc666d0b"/>

  <!-- Favicons -->
  <link rel="icon" href="logo.png" />
  <link rel="apple-touch-icon" href="logo.png" sizes="180x180" />
  <meta name="theme-color" content="#2196F3" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Unisaver — Official App" />
  <meta property="og:description" content="Save, organize & protect your media. iOS & Android with batch/background downloads, vault, VPN. Free web downloader included." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://creedproductions.github.io/" />
  <meta property="og:image" content="https://creedproductions.github.io/og-image.jpg" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Unisaver — Official App" />
  <meta name="twitter:description" content="Save, organize & protect your media. iOS & Android with batch/background downloads, vault, VPN. Free web downloader included." />
  <meta name="twitter:image" content="https://creedproductions.github.io/og-image.jpg" />

  <!-- iOS Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=6746811725, affiliate-data=ct=webbanner&pt=123456, app-argument=unisaver://home" />

  <!-- Expose API for JS -->
  <meta name="unisaver-api" content="https://valid-jacquelin-unisaver-f6c7b6d7.koyeb.app/api" />

  <!-- Fonts + Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Updated Font Awesome CDN for better icon support -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- DICLOTRANS: Banner SDK (loads a display banner in-page) -->
  <script type="text/javascript" src="https://cdn.diclotrans.com/sdk/v1/54204/ecad6b52059d10dfd47d723133d9b16512b93300/lib.js" defer></script>
  <!-- Note: interstitial script is injected only when a download starts -->

  <style>
    :root{
      --brand:#2196F3; --brand-dark:#1976D2; --brand-light:#42A5F5; --brand-lighter:#E3F2FD;
      --accent:#FF6B35; --accent-blue:#00BCD4; --ink:#0d47a1; --muted:#455a64; --light-muted:#78909c;
      --bg:#fafafa; --bg-secondary:#f5f7fa; --bg-blue:#e8f4fd; --card:#ffffff; --stroke:#e1f5fe; --stroke-dark:#b3e5fc;
      --shadow:0 4px 12px rgba(33,150,243,.15); --shadow-lg:0 8px 24px rgba(33,150,243,.2);
      --gradient:linear-gradient(135deg, var(--brand) 0%, var(--brand-dark) 100%);
      --gradient-bg:linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--ink);font-family:'Inter',system-ui,-apple-system,sans-serif;line-height:1.6;scroll-behavior:smooth;overflow-x:hidden}

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    .header{position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-bottom:1px solid var(--stroke);z-index:100;padding:.6rem 0;box-shadow:0 2px 8px rgba(33,150,243,.1)}
    .nav{max-width:1200px;margin:0 auto;padding:0 1rem;display:flex;align-items:center;justify-content:space-between}
    .logo-header{display:flex;align-items:center;gap:.6rem;font-weight:800;font-size:1.15rem;color:var(--ink)}
    .logo-icon{width:36px;height:36px;border-radius:10px;background:var(--gradient);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.25rem;box-shadow:var(--shadow);background-image:url('logo.png');background-size:cover;background-position:center;color:transparent}

    .nav-links{display:flex;gap:.9rem;align-items:center}
    .nav-links a{color:#0d47a1;text-decoration:none;font-weight:700;opacity:.9}
    .nav-links a:hover{text-decoration:underline;opacity:1}

    .social-header{display:flex;gap:.5rem}
    .social-header a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:10px;background:var(--brand-lighter);color:var(--brand-dark);transition:all 0.3s ease}
    .social-header a:hover{transform:translateY(-1px);background:var(--brand);color:#fff}

    .menu-toggle{display:none;background:transparent;border:none;font-size:1.4rem}
    .mobile-panel{display:none;position:fixed;top:56px;left:0;right:0;background:#fff;border-bottom:1px solid var(--stroke);box-shadow:0 8px 16px rgba(0,0,0,.08);z-index:120}
    .mobile-links{display:flex;flex-direction:column;padding:0.5rem 1rem}
    .mobile-links a{padding:.6rem 0;border-bottom:1px dashed var(--stroke);text-decoration:none;color:#0d47a1;font-weight:700}
    .mobile-links a:last-child{border-bottom:none}
    .mobile-social{display:flex;gap:.5rem;padding:0.6rem 1rem 1rem}

    .container{max-width:1200px;margin:0 auto;padding:0 2rem}

    .hero{padding:4rem 0;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center;min-height:70vh;background:var(--gradient-bg);border-radius:0 0 40px 40px;margin-bottom:2rem}
    .badge{display:inline-flex;align-items:center;gap:.5rem;background:var(--gradient);color:#fff;padding:.45rem .9rem;border-radius:999px;font-size:.86rem;font-weight:800;margin-bottom:.8rem;box-shadow:var(--shadow)}
    .hero h1{font-size:clamp(2.2rem,5vw,3.4rem);font-weight:900;margin:0 0 .8rem;line-height:1.1;background:linear-gradient(135deg, var(--ink) 0%, var(--brand) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .hero p{font-size:1.05rem;color:var(--muted);margin:0 0 1rem}
    .store-buttons{display:flex;gap:.8rem;margin:1rem 0 1.2rem;flex-wrap:wrap}
    .store-btn{display:flex;align-items:center;gap:.6rem;padding:.85rem 1.1rem;border-radius:14px;border:2px solid var(--stroke-dark);background:var(--card);color:var(--ink);font-weight:800;text-decoration:none;transition:all .3s ease;box-shadow:var(--shadow)}
    .store-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);border-color:var(--brand);background:var(--brand-lighter)}
    .store-btn.primary{background:var(--gradient);color:#fff;border-color:transparent}

    .hero-visual{display:flex;align-items:center;justify-content:center;position:relative}
    .main-phone{width:300px;height:600px;background:linear-gradient(145deg,var(--bg-blue) 0%,var(--brand-lighter) 100%);border-radius:40px;border:8px solid var(--stroke-dark);display:flex;align-items:center;justify-content:center;position:relative;box-shadow:var(--shadow-lg);overflow:hidden;animation:float 3s ease-in-out infinite}
    .main-phone::before{content:"";position:absolute;inset:0;background:
        radial-gradient(600px 400px at 30% 20%, rgba(33,150,243,.2), transparent 70%),
        radial-gradient(600px 400px at 70% 80%, rgba(25,118,210,.2), transparent 70%)}
    
    .phone-carousel{position:relative;width:100%;height:100%;overflow:hidden;border-radius:32px}
    .phone-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:all 0.8s cubic-bezier(0.4, 0, 0.2, 1);transform:translateX(100%)}
    .phone-slide.active{opacity:1;transform:translateX(0)}
    .phone-slide.prev{opacity:0;transform:translateX(-100%)}
    .phone-slide.next{opacity:0;transform:translateX(100%)}
    .phone-slide img{width:100%;height:100%;object-fit:cover;border-radius:32px}
    
    .carousel-indicators{position:absolute;bottom:15px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:10}
    .carousel-dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.4);cursor:pointer;transition:all 0.3s ease}
    .carousel-dot.active{background:rgba(255,255,255,0.9);transform:scale(1.2)}
    
    .carousel-nav{position:absolute;top:50%;transform:translateY(-50%);z-index:10;background:rgba(0,0,0,0.2);border:none;color:white;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;backdrop-filter:blur(5px)}
    .carousel-nav:hover{background:rgba(0,0,0,0.4);transform:translateY(-50%) scale(1.1)}
    .carousel-nav.prev{left:10px}
    .carousel-nav.next{right:10px}
    .carousel-nav i{font-size:16px}

    .section-title{text-align:center;margin-bottom:1.6rem}
    .section-title h2{font-size:2.05rem;font-weight:900;margin:0 0 .45rem}
    .section-title p{font-size:1.02rem;color:var(--muted);margin:0}

    .web-downloader-section{padding:2rem 0 4rem;background:var(--bg)}
    .web-downloader-card{background:var(--card);border:2px solid var(--stroke);border-radius:20px;padding:2rem;box-shadow:var(--shadow-lg);margin-top:2rem;position:relative}
    .web-downloader-card::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient);border-radius:20px 20px 0 0}
    .mode-toggle{display:flex;background:var(--bg-secondary);border-radius:15px;padding:4px;margin-bottom:1.1rem;border:2px solid var(--stroke);box-shadow:inset 0 2px 4px rgba(0,0,0,.05)}
    .mode-btn{flex:1;padding:12px 20px;border:none;background:transparent;border-radius:12px;font-weight:800;font-size:.95rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;color:var(--muted)}
    .mode-btn.active{background:var(--gradient);color:#fff;box-shadow:0 2px 8px rgba(33,150,243,.3);transform:translateY(-1px)}
    .mode-btn:hover:not(.active){background:var(--brand-lighter);color:var(--brand)}
    .url-input{width:100%;padding:1.1rem 1.3rem;border:2px solid var(--stroke-dark);border-radius:15px;font-size:1rem;background:var(--bg);color:var(--ink);transition:all .3s ease;font-family:inherit}
    .url-input:focus{outline:none;border-color:var(--brand);background:#fff;box-shadow:0 0 0 3px rgba(33,150,243,.1);transform:translateY(-1px)}
    .input-actions{display:flex;gap:.8rem;margin-top:.9rem;justify-content:center;flex-wrap:wrap}
    .action-btn{padding:12px 20px;border:2px solid transparent;border-radius:12px;font-size:.95rem;font-weight:800;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;min-width:136px;justify-content:center}
    .paste-btn{background:linear-gradient(135deg,#42A5F5,#1E88E5);color:#fff;box-shadow:0 4px 15px rgba(66,165,245,.3)}
    .paste-btn:hover{transform:translateY(-2px)}
    .clear-btn{background:linear-gradient(135deg,#FF7043,#F4511E);color:#fff;box-shadow:0 4px 15px rgba(255,112,67,.3)}
    .clear-btn:hover{transform:translateY(-2px)}
    .download-btn{width:100%;padding:1.05rem 1.6rem;background:var(--gradient);color:#fff;border:none;border-radius:15px;font-size:1.05rem;font-weight:900;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px;box-shadow:var(--shadow);text-transform:uppercase;letter-spacing:.5px}
    .download-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
    .download-btn:disabled{opacity:.7;cursor:not-allowed}
    .progress-section{margin-top:.9rem;padding:.9rem;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--stroke)}
    .progress-bar{width:100%;height:10px;background:var(--stroke);border-radius:6px;overflow:hidden;margin-bottom:.6rem}
    .progress-fill{height:100%;background:var(--gradient);width:0%;transition:width .3s ease;border-radius:6px}
    .progress-text{text-align:center;font-size:.9rem;color:var(--ink);font-weight:800}
    .message{padding:.9rem 1.2rem;border-radius:12px;margin:.5rem 0;display:flex;align-items:center;gap:10px;font-weight:700}
    .message.success{background:linear-gradient(135deg,#E8F5E9,#C8E6C9);color:#2E7D32;border-left:4px solid #4CAF50}
    .message.error{background:linear-gradient(135deg,#FFEBEE,#FFCDD2);color:#C62828;border-left:4px solid #F44336}
    .message.info{background:linear-gradient(135deg,var(--bg-blue),var(--brand-lighter));color:var(--brand-dark);border-left:4px solid var(--brand)}
    .spinner{width:18px;height:18px;border:2px solid transparent;border-top:2px solid #fff;border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    .stats-section{padding:3rem 0;background:var(--card);box-shadow:var(--shadow);border-radius:20px;margin:2rem auto}
    .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:2rem;text-align:center}
    .stat-item h3{font-size:2rem;font-weight:900;margin:0;color:var(--brand)}
    .stat-item p{margin:.5rem 0 0;color:var(--muted);font-weight:700}

    .features-section{padding:4rem 0;background:var(--bg-secondary)}
    .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.1rem;margin-top:1.2rem}
    .feature-card{background:var(--card);border:2px solid var(--stroke);border-radius:20px;padding:1.3rem;box-shadow:var(--shadow);transition:all .3s ease;position:relative}
    .feature-card::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient)}
    .feature-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--brand)}
    .feature-icon{width:52px;height:52px;background:var(--gradient);border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:.8rem;font-size:1.15rem;box-shadow:var(--shadow)}
    .feature-card h3{margin:0 0 .4rem;font-size:1.13rem;font-weight:900}
    .feature-card p{margin:0;color:var(--muted)}

    .testimonials{padding:3rem 0}
    .t-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
    .t-card{background:#fff;border:1px solid var(--stroke);border-radius:16px;padding:1rem 1.25rem;display:flex;gap:.75rem;align-items:flex-start}
    .t-avatar{flex:0 0 40px;height:40px;border-radius:50%;background:var(--brand-lighter);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--brand-dark)}
    .t-name{font-weight:900}
    .t-stars{color:#f59e0b}
    .t-meta{font-size:.85rem;color:#6b7280}

    .screenshots-section{padding:4rem 0}
    .screenshots-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:2rem}
    .screenshot-card{position:relative;aspect-ratio:9/16;background:linear-gradient(145deg,var(--bg-blue) 0%,var(--brand-lighter) 100%);border-radius:30px;border:4px solid var(--stroke-dark);overflow:hidden;box-shadow:var(--shadow-lg);transition:all .3s ease}
    .screenshot-card:hover{transform:translateY(-8px);box-shadow:0 20px 25px -5px rgba(33,150,243,.3)}

    .press{padding:3rem 0;background:#fff}
    .press-note{max-width:800px;margin:0 auto;background:#f8fafc;border:1px solid var(--stroke);border-radius:14px;padding:1rem 1.2rem;color:#334}

    .follow{padding:2.2rem 0;background:#fff}
    .follow-btns{display:flex;gap:.8rem;flex-wrap:wrap;justify-content:center}
    .fbtn{display:inline-flex;align-items:center;gap:.6rem;padding:.8rem 1.1rem;border-radius:999px;text-decoration:none;font-weight:800;color:#fff;transition:all 0.3s ease}
    .fbtn:hover{transform:translateY(-2px)}
    .fbtn.x{background:#000}
    .fbtn.whatsapp{background:#25D366}
    .fbtn.telegram{background:#229ED9}

    .cta-section{padding:3.2rem 0;background:var(--gradient);color:#fff;text-align:center;border-radius:20px;margin:2rem 0}
    .cta-content h2{font-size:2.1rem;font-weight:900;margin:0 0 .9rem}
    .cta-content p{font-size:1.02rem;margin:0 0 1.1rem}
    .cta-buttons{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap}
    .cta-btn{background:#fff;color:var(--ink);padding:.95rem 1.3rem;border-radius:16px;font-weight:900;text-decoration:none;transition:all .3s ease;display:flex;align-items:center;gap:.7rem;box-shadow:var(--shadow)}
    .cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.2);background:var(--brand-lighter)}

    .footer{padding:1.6rem 0;background:var(--bg-secondary);color:var(--muted);text-align:center;border-top:1px solid var(--stroke)}

    @keyframes float{50%{transform:translateY(-10px)}}
    @media (max-width:1024px){
      .hero{grid-template-columns:1fr;gap:2rem;text-align:center}
      .screenshots-grid{grid-template-columns:repeat(2,1fr)}
      .stats-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:840px){
      .nav{padding:0 .8rem}
      .nav-links{display:none}
      .menu-toggle{display:block}
    }
    @media (max-width:768px){
      .hero{padding:2rem 0}
      .main-phone{width:250px;height:500px}
      .screenshots-grid{grid-template-columns:1fr;max-width:320px;margin:2rem auto 0}
      .store-buttons,.cta-buttons{flex-direction:column;align-items:center}
      .container{padding:0 1rem}
      .stats-grid{grid-template-columns:1fr;gap:1rem}
    }
  </style>
</head>
<body>
  <header class="header" role="banner">
    <nav class="nav" aria-label="Primary">
      <div class="logo-header">
        <div class="logo-icon" aria-hidden="true">U</div>
        <span aria-label="Unisaver">Unisaver</span>
      </div>

      <div class="nav-links">
        <a href="#app">App</a>
        <a href="#downloader">Web Downloader</a>
        <a href="#features">Features</a>
        <a href="#reviews">Reviews</a>
        <a href="#press">Press</a>
        <a href="#follow">Follow</a>
        <a href="#support">Support</a>
      </div>

      <div class="social-header" aria-label="Follow">
        <a href="https://x.com/UnisaverApps?t=x5Clf26uHYckFyCPukXdEQ&s=09" target="_blank" rel="noopener" aria-label="Follow on X">
          <img src="x.png" alt="X" style="width:20px;height:20px;object-fit:contain;">
        </a>
        <a href="https://whatsapp.com/channel/0029VbBBhUM7T8bgMHp4Oq3b" target="_blank" rel="noopener" aria-label="Join WhatsApp Channel">
          <img src="whatsapp.png" alt="WhatsApp" style="width:20px;height:20px;object-fit:contain;">
        </a>
        <a href="https://t.me/unisaverdownloader" target="_blank" rel="noopener" aria-label="Join Telegram">
          <img src="telegram.png" alt="Telegram" style="width:20px;height:20px;object-fit:contain;">
        </a>
      </div>

      <button class="menu-toggle" id="menuToggle" aria-label="Open menu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </nav>

    <div class="mobile-panel" id="mobilePanel">
      <div class="mobile-links">
        <a href="#app">App</a>
        <a href="#downloader">Web Downloader</a>
        <a href="#features">Features</a>
        <a href="#reviews">Reviews</a>
        <a href="#press">Press</a>
        <a href="#follow">Follow</a>
        <a href="#support">Support</a>
      </div>
      <div class="mobile-social">
        <a class="fbtn x" href="https://x.com/UnisaverApps?t=x5Clf26uHYckFyCPukXdEQ&s=09" target="_blank" rel="noopener"><img src="x.png" alt="X" style="width:16px;height:16px;object-fit:contain;"> X</a>
        <a class="fbtn whatsapp" href="https://whatsapp.com/channel/0029VbBBhUM7T8bgMHp4Oq3b" target="_blank" rel="noopener"><img src="whatsapp.png" alt="WhatsApp" style="width:16px;height:16px;object-fit:contain;"> WhatsApp</a>
        <a class="fbtn telegram" href="https://t.me/unisaverdownloader" target="_blank" rel="noopener"><img src="telegram.png" alt="Telegram" style="width:16px;height:16px;object-fit:contain;"> Telegram</a>
      </div>
    </div>
  </header>

  <section id="app" class="hero">
    <div class="container" style="display: contents;">
      <div>
        <div class="badge"><span>📱</span><span>Official Unisaver App</span></div>
        <h1>Save, Organize & Protect Your Media</h1>
        <p>Unisaver is the easiest way to download and manage videos, reels, stories & audio. Get the app for batch/background downloads, private vault, ad-block browser, and VPN.</p>

        <div class="store-buttons">
          <a id="link-ios" class="store-btn" href="https://apps.apple.com/app/unisaver/id6746811725" rel="noopener" aria-label="Download Unisaver for iOS">
            <img src="apple.png" alt="iOS" style="width:20px;height:20px;object-fit:contain;"> Download for iOS
          </a>
          <a id="link-android" class="store-btn" href="https://play.google.com/store/apps/details?id=com.creed.unisaver" rel="noopener" aria-label="Get Unisaver on Android">
            <img src="play.png" alt="Android" style="width:20px;height:20px;object-fit:contain;"> Get on Android
          </a>
        </div>

        <small style="display:block;color:#335;opacity:.9">
          Bonus: Use our free web downloader below if you can't install the app right now.
        </small>
      </div>

      <div class="hero-visual" aria-hidden="true">
        <div class="main-phone">
          <div class="phone-carousel" id="phoneCarousel">
            <div class="phone-slide active">
              <img src="screenshoot1.png" alt="Unisaver App - Home Screen" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot2.png" alt="Unisaver App - Download Manager" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot3.png" alt="Unisaver App - Video Library" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot4.png" alt="Unisaver App - Settings" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot5.png" alt="Unisaver App - Private Vault" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot6.png" alt="Unisaver App - VPN Interface" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot7.png" alt="Unisaver App - Browser" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot8.png" alt="Unisaver App - Audio Player" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot9.png" alt="Unisaver App - Platform Selection" loading="lazy">
            </div>
            <div class="phone-slide">
              <img src="screenshoot10.png" alt="Unisaver App - Premium Features" loading="lazy">
            </div>
            
            <button class="carousel-nav prev" id="prevBtn" aria-label="Previous screenshot">
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <button class="carousel-nav next" id="nextBtn" aria-label="Next screenshot">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
            
            <div class="carousel-indicators" id="carouselIndicators">
              <div class="carousel-dot active" data-slide="0"></div>
              <div class="carousel-dot" data-slide="1"></div>
              <div class="carousel-dot" data-slide="2"></div>
              <div class="carousel-dot" data-slide="3"></div>
              <div class="carousel-dot" data-slide="4"></div>
              <div class="carousel-dot" data-slide="5"></div>
              <div class="carousel-dot" data-slide="6"></div>
              <div class="carousel-dot" data-slide="7"></div>
              <div class="carousel-dot" data-slide="8"></div>
              <div class="carousel-dot" data-slide="9"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <main id="content" class="container" role="main">
    <section id="downloader" class="web-downloader-section" aria-labelledby="downloader-title">
      <div class="section-title">
        <h2 id="downloader-title">Quick Web Downloader (Bonus)</h2>
        <p>Paste a link, choose Video or Audio, and save it. No account needed.</p>
        <div style="display:flex;justify-content:center;margin-top:.6rem">
          <span style="background:linear-gradient(135deg,#4CAF50,#45a049);color:#fff;padding:6px 14px;border-radius:999px;font-weight:800;box-shadow:0 4px 15px rgba(76,175,80,.3)">
            <i class="fa-solid fa-shield"></i> App recommended for best reliability
          </span>
        </div>
      </div>

      <div class="web-downloader-card" aria-live="polite">
        <div class="mode-toggle" role="tablist" aria-label="Download mode">
          <button class="mode-btn active" id="videoMode" role="tab" aria-selected="true"><i class="fa-solid fa-video"></i> Video Download</button>
          <button class="mode-btn" id="audioMode" role="tab" aria-selected="false"><i class="fa-solid fa-music"></i> Audio Only</button>
        </div>

        <label for="videoUrl" class="sr-only">Paste your video URL</label>
        <input type="url" id="videoUrl" class="url-input" inputmode="url" placeholder="Paste a link from Instagram, TikTok, YouTube, Facebook, X/Twitter, Reddit, Pinterest…" autocomplete="off">
        <div class="input-actions">
          <button id="pasteBtn" class="action-btn paste-btn" type="button"><i class="fa-solid fa-clipboard"></i> Paste URL</button>
          <button id="clearBtn" class="action-btn clear-btn" type="button"><i class="fa-solid fa-trash-can"></i> Clear</button>
        </div>

        <div style="margin:1rem 0 1.25rem">
          <button id="processBtn" class="download-btn" type="button"><i class="fa-solid fa-download"></i> <span id="processText">Find & Download Video</span></button>
        </div>

                  <div id="progressSection" class="progress-section" style="display:none">
          <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
          <div id="progressText" class="progress-text">Processing…</div>
        </div>

        <div id="messageContainer" aria-live="polite"></div>

        <p style="margin:.5rem 0 0;color:#5a6;font-size:.85rem">Only download content you have rights to. Respect creators' copyrights and platform terms.</p>
      </div>

      <!-- DICLOTRANS: banner placement (script renders the banner) -->
      <div id="diclotrans-banner" style="margin:18px 0;display:flex;justify-content:center">
        <div style="max-width:820px;width:100%">
          <script type="text/javascript" src="https://cdn.diclotrans.com/sdk/v1/54204/ecad6b52059d10dfd47d723133d9b16512b93300/lib.js"></script>
        </div>
      </div>
    </section>

    <section class="stats-section" aria-label="Unisaver statistics">
      <div class="stats-grid">
        <div class="stat-item"><h3>20+</h3><p>Supported Platforms</p></div>
        <div class="stat-item"><h3>6×</h3><p>Faster (in-app)</p></div>
        <div class="stat-item"><h3>19+</h3><p>Languages</p></div>
        <div class="stat-item"><h3>1M+</h3><p>Trusted Users</p></div>
      </div>
    </section>

    <section id="features" class="features-section" aria-labelledby="features-title">
      <div class="section-title">
        <h2 id="features-title">Why the Unisaver App?</h2>
        <p>Everything you need — with a better, faster experience</p>
      </div>

      <div class="features-grid">
        <div class="feature-card"><div class="feature-icon">📱</div><h3>Multi-Platform</h3><p>Save HD videos, reels, stories, statuses & music from Instagram, TikTok, YouTube, Facebook, X/Twitter, Reddit, Pinterest, and more.</p></div>
        <div class="feature-card"><div class="feature-icon">⚡</div><h3>Batch & Background</h3><p>Queue multiple files and let Unisaver handle them in the background.</p></div>
        <div class="feature-card"><div class="feature-icon">🔒</div><h3>Private Vault</h3><p>Biometric lock with encrypted storage to keep sensitive media safe.</p></div>
        <div class="feature-card"><div class="feature-icon">🛡️</div><h3>Ad-Block Browser</h3><p>Built-in secure browser with pop-up protection & smart capture.</p></div>
        <div class="feature-card"><div class="feature-icon">🎵</div><h3>Audio Extractor</h3><p>Grab MP3/M4A from videos with in-app media player.</p></div>
        <div class="feature-card"><div class="feature-icon">🌐</div><h3>Free VPN</h3><p>Browse safely and unlock content with one-tap VPN.</p></div>
      </div>
    </section>

    <section id="reviews" class="testimonials" aria-labelledby="reviews-title">
      <div class="section-title">
        <h2 id="reviews-title">Loved by Our Users</h2>
        <p>Real feedback from the Unisaver community</p>
      </div>
      <div class="t-grid">
        <article class="t-card"><div class="t-avatar">A</div><div><div class="t-name">Amara K.</div><div class="t-stars" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div><p style="margin:.4rem 0 0">"Clean UI and super fast. Batch downloads + vault make it my go-to."</p><div class="t-meta">iOS • Creator</div></div></article>
        <article class="t-card"><div class="t-avatar">D</div><div><div class="t-name">Daniel M.</div><div class="t-stars" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div><p style="margin:.4rem 0 0">"Downloads that used to fail in the browser just work in Unisaver."</p><div class="t-meta">Android • Student</div></div></article>
        <article class="t-card"><div class="t-avatar">S</div><div><div class="t-name">Sophia L.</div><div class="t-stars" aria-label="4.5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div><p style="margin:.4rem 0 0">"Status saver + private folder = chef's kiss. Highly recommend."</p><div class="t-meta">Android • Daily user</div></div></article>
        <article class="t-card"><div class="t-avatar">R</div><div><div class="t-name">Rahim N.</div><div class="t-stars" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div><p style="margin:.4rem 0 0">"Background downloads save me so much time. Worth it."</p><div class="t-meta">iOS • Power user</div></div></article>
        <article class="t-card"><div class="t-avatar">E</div><div><div class="t-name">Evelyn T.</div><div class="t-stars" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div><p style="margin:.4rem 0 0">"Super simple. Paste link, hit download, done."</p><div class="t-meta">Android • New user</div></div></article>
        <article class="t-card"><div class="t-avatar">C</div><div><div class="t-name">Chris P.</div><div class="t-stars" aria-label="4.5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i></div><p style="margin:.4rem 0 0">"Vault and VPN together make this a complete toolkit."</p><div class="t-meta">iOS • Traveler</div></div></article>
      </div>
    </section>

    <section class="screenshots-section" aria-labelledby="shots-title">
      <div class="section-title">
        <h2 id="shots-title">See Unisaver in Action</h2>
        <p>Preview the app's intuitive interface and powerful tools</p>
      </div>
      <div class="screenshots-grid">
        <div class="screenshot-card"><img src="image1.png" alt="Unisaver main dashboard" style="width:100%;height:100%;object-fit:cover;border-radius:26px"></div>
        <div class="screenshot-card"><img src="image2.png" alt="Movie & Sports hub" style="width:100%;height:100%;object-fit:cover;border-radius:26px"></div>
        <div class="screenshot-card"><img src="image3.png" alt="Download manager" style="width:100%;height:100%;object-fit:cover;border-radius:26px"></div>
      </div>
    </section>

    <section id="press" class="press" aria-labelledby="press-title">
      <div class="section-title">
        <h2 id="press-title">Press & Brand</h2>
        <p>Need a logo or app asset? We're happy to help.</p>
      </div>
      <div class="press-note">
        <p style="margin:.2rem 0 .6rem">For brand assets (logos, screenshots, colors), email <a href="mailto:creedproduction4pps@gmail.com">creedproduction4pps@gmail.com</a>. We'll send you the right files fast.</p>
        <div style="display:flex;align-items:center;gap:12px">
          <img src="logo.png" alt="Unisaver logo preview" width="48" height="48" style="border-radius:10px;border:1px solid #e5f4ff">
          <div style="font-weight:800;color:#225">Unisaver brand, simplified — reach out for press kits.</div>
        </div>
      </div>
    </section>

    <section id="follow" class="follow" aria-labelledby="follow-title">
      <div class="section-title">
        <h2 id="follow-title">Follow Unisaver</h2>
        <p>Updates, tips, and support across our channels</p>
      </div>
      <div class="follow-btns">
        <a class="fbtn x" href="https://x.com/UnisaverApps?t=x5Clf26uHYckFyCPukXdEQ&s=09" target="_blank" rel="noopener"><img src="x.png" alt="X" style="width:16px;height:16px;object-fit:contain;"> X / Twitter</a>
        <a class="fbtn whatsapp" href="https://whatsapp.com/channel/0029VbBBhUM7T8bgMHp4Oq3b" target="_blank" rel="noopener"><img src="whatsapp.png" alt="WhatsApp" style="width:16px;height:16px;object-fit:contain;"> WhatsApp Channel</a>
        <a class="fbtn telegram" href="https://t.me/unisaverdownloader" target="_blank" rel="noopener"><img src="telegram.png" alt="Telegram" style="width:16px;height:16px;object-fit:contain;"> Telegram</a>
      </div>
    </section>
  </main>

  <section class="cta-section" aria-labelledby="cta-title">
    <div class="container">
      <div class="cta-content">
        <h2 id="cta-title">Get the Best Unisaver Experience</h2>
        <p>Install the app for batch, background, vault, and VPN — or use the quick web downloader above.</p>
        <div class="cta-buttons">
          <a id="cta-ios" class="cta-btn" href="https://apps.apple.com/app/unisaver/id6746811725" rel="noopener"><img src="apple.png" alt="iOS" style="width:20px;height:20px;object-fit:contain;"> Download for iOS</a>
          <a id="cta-android" class="cta-btn" href="https://play.google.com/store/apps/details?id=com.creed.unisaver" rel="noopener"><img src="play.png" alt="Android" style="width:20px;height:20px;object-fit:contain;"> Get on Android</a>
        </div>
        
        <div style="margin-top:1.5rem;padding:1rem;background:rgba(255,255,255,0.1);border-radius:12px;backdrop-filter:blur(10px);">
          <p style="font-size:0.9rem;margin:0 0 0.5rem;color:#fff;opacity:0.9;">
            📧 <strong>Get App Offers:</strong> Email us for exclusive deals and early access features
          </p>
          <p style="font-size:0.85rem;margin:0;color:#fff;opacity:0.8;">
            <a href="mailto:creedproduction4pps@gmail.com?subject=App%20Offers%20Request" style="color:#fff;text-decoration:underline;">creedproduction4pps@gmail.com</a>
          </p>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer" role="contentinfo" id="support">
    <div class="container">
      <p><strong>Support:</strong> <a href="mailto:creedproduction4pps@gmail.com">creedproduction4pps@gmail.com</a></p>
      <p>© <span id="year"></span> Creed Production •
        <a href="https://docs.google.com/document/d/1nePcsitbVyAf2YcGDj8RXk3pMTLKE7-I9DZ9_62DwZw/edit?usp=sharing" target="_blank" rel="noopener" style="color:var(--brand)">Privacy Policy</a>
      </p>
      <p style="margin:.5rem 0 0;font-size:.85rem;opacity:.85">Built for speed, privacy, and reliability. Respect creators' rights.</p>
    </div>
  </footer>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"Organization",
        "name":"Unisaver",
        "url":"https://unisaver-downloader.vercel.app/",
        "logo":"https://unisaver-downloader.vercel.app/logo.png",
        "email":"creedproduction4pps@gmail.com",
        "contactPoint":[{"@type":"ContactPoint","contactType":"customer support","email":"creedproduction4pps@gmail.com"}],
        "sameAs":[
          "https://x.com/UnisaverApps",
          "https://t.me/unisaverdownloader",
          "https://whatsapp.com/channel/0029VbBBhUM7T8bgMHp4Oq3b"
        ]
      },
      {
        "@type":"WebSite",
        "url":"https://unisaver-downloader.vercel.app/",
        "name":"Unisaver",
        "potentialAction":{"@type":"SearchAction","target":"https://unisaver-downloader.vercel.app/?q={search_term_string}","query-input":"required name=search_term_string"}
      },
      {
        "@type":"MobileApplication",
        "name":"Unisaver",
        "operatingSystem":"iOS, Android",
        "applicationCategory":"Multimedia",
        "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
        "downloadUrl":"https://play.google.com/store/apps/details?id=com.creed.unisaver",
        "installUrl":"https://apps.apple.com/app/unisaver/id6746811725"
      }
    ]
  }
  </script>

  <noscript>
    <div style="max-width:800px;margin:1rem auto;padding:.75rem 1rem;border-radius:12px;background:#fff3cd;border:1px solid #ffeeba;color:#856404">
      JavaScript is required for the web downloader. You can still install the Unisaver app from the buttons above.
    </div>
  </noscript>

  <script>
    const API_BASE = (document.querySelector('meta[name="unisaver-api"]')?.content || '').replace(/\/+$/,'') || 'https://valid-jacquelin-unisaver-f6c7b6d7.koyeb.app/api';

    // Phone Carousel Class
    class PhoneCarousel {
      constructor() {
        this.currentSlide = 0;
        this.totalSlides = 10;
        this.autoplayInterval = 4000; // 4 seconds per slide
        this.isPlaying = true;
        this.autoplayTimer = null;
        
        this.carousel = document.getElementById('phoneCarousel');
        this.slides = this.carousel.querySelectorAll('.phone-slide');
        this.dots = this.carousel.querySelectorAll('.carousel-dot');
        this.prevBtn = document.getElementById('prevBtn');
        this.nextBtn = document.getElementById('nextBtn');
        
        this.init();
      }
      
      init() {
        // Add event listeners
        this.prevBtn.addEventListener('click', () => this.prevSlide());
        this.nextBtn.addEventListener('click', () => this.nextSlide());
        
        // Dot navigation
        this.dots.forEach((dot, index) => {
          dot.addEventListener('click', () => this.goToSlide(index));
        });
        
        // Pause on hover, resume on leave
        this.carousel.addEventListener('mouseenter', () => this.pauseAutoplay());
        this.carousel.addEventListener('mouseleave', () => this.resumeAutoplay());
        
        // Touch support for mobile
        this.addTouchSupport();
        
        // Start autoplay
        this.startAutoplay();
      }
      
      goToSlide(index) {
        // Remove active class from current slide and dot
        this.slides[this.currentSlide].classList.remove('active');
        this.dots[this.currentSlide].classList.remove('active');
        
        // Update current slide
        this.currentSlide = index;
        
        // Add active class to new slide and dot
        this.slides[this.currentSlide].classList.add('active');
        this.dots[this.currentSlide].classList.add('active');
      }
      
      nextSlide() {
        const nextIndex = (this.currentSlide + 1) % this.totalSlides;
        this.goToSlide(nextIndex);
      }
      
      prevSlide() {
        const prevIndex = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;
        this.goToSlide(prevIndex);
      }
      
      startAutoplay() {
        this.autoplayTimer = setInterval(() => {
          if (this.isPlaying) {
            this.nextSlide();
          }
        }, this.autoplayInterval);
      }
      
      pauseAutoplay() {
        this.isPlaying = false;
      }
      
      resumeAutoplay() {
        this.isPlaying = true;
      }
      
      stopAutoplay() {
        if (this.autoplayTimer) {
          clearInterval(this.autoplayTimer);
          this.autoplayTimer = null;
        }
      }
      
      addTouchSupport() {
        let startX = 0;
        let startY = 0;
        let endX = 0;
        let endY = 0;
        
        this.carousel.addEventListener('touchstart', (e) => {
          startX = e.touches[0].clientX;
          startY = e.touches[0].clientY;
          this.pauseAutoplay();
        });
        
        this.carousel.addEventListener('touchmove', (e) => {
          endX = e.touches[0].clientX;
          endY = e.touches[0].clientY;
        });
        
        this.carousel.addEventListener('touchend', () => {
          const deltaX = endX - startX;
          const deltaY = endY - startY;
          
          // Check if horizontal swipe is more significant than vertical
          if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
            if (deltaX > 0) {
              this.prevSlide();
            } else {
              this.nextSlide();
            }
          }
          
          this.resumeAutoplay();
        });
      }
    }

    (function(){
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      const isiOS = /iPad|iPhone|iPod/.test(ua) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
      const isAndroid = /Android/i.test(ua);
      const $ = s => document.querySelector(s);

      $('#year').textContent = new Date().getFullYear();
      if (isiOS) {
        $('#link-ios').classList.add('primary');
        Object.assign($('#cta-ios').style,{background:'rgba(255,255,255,0.2)',color:'#fff',border:'2px solid rgba(255,255,255,0.3)'});
      }
      if (isAndroid) {
        $('#link-android').classList.add('primary');
        Object.assign($('#cta-android').style,{background:'rgba(255,255,255,0.2)',color:'#fff',border:'2px solid rgba(255,255,255,0.3)'});
      }

      const panel = $('#mobilePanel');
      $('#menuToggle').addEventListener('click', () => {
        const open = panel.style.display === 'block';
        panel.style.display = open ? 'none' : 'block';
        document.body.style.overflowY = open ? '' : 'hidden';
      });
      panel.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
        panel.style.display = 'none';
        document.body.style.overflowY = '';
      }));
      
      // Initialize phone carousel
      new PhoneCarousel();
    })();

    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        const id = a.getAttribute('href');
        if (id && id !== '#') {
          const t = document.querySelector(id);
          if (t){ e.preventDefault(); t.scrollIntoView({behavior:'smooth'}); }
        }
      });
    });

    class UnisaverDownloader {
      constructor() {
        this.apiBaseUrl = API_BASE;
        this.currentVideoData = null;
        this.adShown = false;
        this.isAudioMode = false;
        this.abortCtrl = null;
        this.requestTimeout = 30000; // 30 second timeout

        this.els = {
          urlInput: document.getElementById('videoUrl'),
          processBtn: document.getElementById('processBtn'),
          pasteBtn: document.getElementById('pasteBtn'),
          clearBtn: document.getElementById('clearBtn'),
          videoMode: document.getElementById('videoMode'),
          audioMode: document.getElementById('audioMode'),
          processText: document.getElementById('processText'),
          progressSection: document.getElementById('progressSection'),
          progressFill: document.getElementById('progressFill'),
          progressText: document.getElementById('progressText'),
          messages: document.getElementById('messageContainer')
        };

        this.bind();
        this.prefillFromClipboard();
      }

      bind() {
        this.els.processBtn.addEventListener('click', () => this.processUrl());
        this.els.pasteBtn.addEventListener('click', () => this.pasteFromClipboard());
        this.els.clearBtn.addEventListener('click', () => this.reset());
        this.els.videoMode.addEventListener('click', () => this.setMode(false));
        this.els.audioMode.addEventListener('click', () => this.setMode(true));
        this.els.urlInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') this.processUrl(); });
        
        // Add input validation
        this.els.urlInput.addEventListener('input', () => this.validateInput());
      }

      validateInput() {
        const url = this.els.urlInput.value.trim();
        if (url && !this.isSupportedUrl(url)) {
          this.info('Please enter a valid social media URL (Instagram, TikTok, YouTube, etc.).');
        } else if (url && this.isSupportedUrl(url)) {
          this.clearMessages();
        }
      }

      setMode(isAudio) {
        this.isAudioMode = isAudio;
        this.els.videoMode.classList.toggle('active', !isAudio);
        this.els.audioMode.classList.toggle('active', isAudio);
        this.els.processText.textContent = isAudio ? 'Extract Audio' : 'Find & Download Video';
        this.info(isAudio ? 'Audio extraction mode enabled.' : 'Video mode enabled.');
      }

      isSupportedUrl(text) {
        if (!text) return false;
        const lower = text.toLowerCase();
        const patterns = [
          'instagram.com', 'facebook.com', 'twitter.com', 'x.com', 'tiktok.com', 
          'pinterest.com', 'threads.net', 'youtu.be', 'youtube.com', 'linkedin.com', 
          'reddit.com', 'snapchat.com', 'vimeo.com', 'dailymotion.com', 'twitch.tv'
        ];
        return patterns.some(p => lower.includes(p)) || /^https?:\/\//i.test(text);
      }

      async prefillFromClipboard() {
        try {
          if (navigator.clipboard?.readText) {
            const text = (await navigator.clipboard.readText()).trim();
            if (this.isSupportedUrl(text)) {
              this.info('Found a video URL in your clipboard. Click "Paste URL" to use it.');
              this.els.pasteBtn.style.animation = 'pulse 2s infinite';
              setTimeout(() => {
                this.els.pasteBtn.style.animation = 'none';
              }, 10000);
            }
          }
        } catch (error) {
          // Silently handle clipboard access errors
          console.log('Clipboard access not available:', error.message);
        }
      }

      async pasteFromClipboard() {
        try {
          const text = (await navigator.clipboard.readText()).trim();
          this.els.pasteBtn.style.animation = 'none';
          if (this.isSupportedUrl(text)) {
            this.els.urlInput.value = text;
            this.success('URL pasted successfully! Click download to start.');
            this.els.urlInput.focus();
          } else {
            this.error('Clipboard does not contain a valid video URL.');
          }
        } catch (error) {
          this.error('Could not access clipboard. Please paste manually (Ctrl/Cmd + V).');
        }
      }

      reset() {
        this.els.urlInput.value = '';
        this.currentVideoData = null;
        this.hideProgress();
        this.clearMessages();
        if (this.abortCtrl) {
          this.abortCtrl.abort();
          this.abortCtrl = null;
        }
        this.info('Ready for a new video URL.');
      }

      setLoading(on) {
        if (on) {
          this.els.processBtn.disabled = true;
          this.els.processBtn.innerHTML = `<div class="spinner"></div> Processing…`;
        } else {
          this.els.processBtn.disabled = false;
          this.els.processBtn.innerHTML = `<i class="fa-solid fa-download"></i> <span id="processText">${this.isAudioMode ? 'Extract Audio' : 'Find & Download Video'}</span>`;
          this.els.processText = document.getElementById('processText');
        }
      }

      showProgress(msg) {
        this.els.progressSection.style.display = 'block';
        this.els.progressFill.style.width = '0%';
        this.els.progressText.textContent = msg || 'Preparing…';
      }
      
      updateProgress(pct, msg) {
        this.els.progressFill.style.width = `${Math.max(0, Math.min(100, pct))}%`;
        if (msg) this.els.progressText.textContent = msg;
      }
      
      hideProgress() { 
        this.els.progressSection.style.display = 'none'; 
      }

      success(msg) { 
        this.els.messages.innerHTML = `<div class="message success"><i class="fa-solid fa-check-circle"></i>${msg}</div>`; 
      }
      
      error(msg) { 
        this.els.messages.innerHTML = `<div class="message error"><i class="fa-solid fa-triangle-exclamation"></i>${msg}</div>`; 
      }
      
      info(msg) { 
        this.els.messages.innerHTML = `<div class="message info"><i class="fa-solid fa-circle-info"></i>${msg}</div>`; 
      }
      
      clearMessages() { 
        this.els.messages.innerHTML = ''; 
      }

      async processUrl() {
        const url = this.els.urlInput.value.trim();
        if (!url) {
          this.error('Please enter a video URL first.');
          this.els.urlInput.focus();
          return;
        }

        if (!this.isSupportedUrl(url)) {
          this.error('Please enter a valid social media URL (Instagram, TikTok, YouTube, etc.).');
          this.els.urlInput.focus();
          return;
        }

        // Cancel any existing request
        if (this.abortCtrl) {
          this.abortCtrl.abort();
        }
        this.abortCtrl = new AbortController();

        this.setLoading(true);
        this.clearMessages();
        this.showProgress(this.isAudioMode ? 'Checking audio options…' : 'Finding the best download…');

        try {
          if (!this.adShown) { 
            this.showInterstitialAd(); 
            this.adShown = true; 
          }

          // Create timeout promise
          const timeoutPromise = new Promise((_, reject) => {
            setTimeout(() => reject(new Error('Request timeout - server took too long to respond')), this.requestTimeout);
          });

          // Create fetch promise with proper error handling
          const fetchPromise = fetch(`${this.apiBaseUrl}/download`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json',
              'User-Agent': 'Unisaver-Web/1.0'
            },
            body: JSON.stringify({ 
              url: url, 
              audio_only: this.isAudioMode,
              quality: this.isAudioMode ? 'audio' : 'hd'
            }),
            signal: this.abortCtrl.signal
          });

          // Race between fetch and timeout
          const response = await Promise.race([fetchPromise, timeoutPromise]);

          if (!response.ok) {
            let errorMsg = `Server error (${response.status})`;
            try {
              const errorData = await response.json();
              errorMsg = errorData.message || errorData.error || errorMsg;
            } catch (e) {
              // Use default error message if JSON parsing fails
            }
            throw new Error(errorMsg);
          }

          let data;
          try {
            data = await response.json();
          } catch (e) {
            throw new Error('Invalid server response - unable to parse JSON');
          }

          if (!data || !data.success) {
            throw new Error(data?.message || data?.error || 'Failed to process the URL');
          }

          if (!data.data || !data.data.url) {
            throw new Error('No downloadable content found for this URL');
          }

          this.currentVideoData = data.data;
          this.updateProgress(25, 'Media found! Preparing download…');
          this.success(`${this.isAudioMode ? 'Audio' : 'Video'} found. Starting download…`);
          
          // Start download process
          await this.startDownloadFlow(this.currentVideoData);

        } catch (error) {
          if (error.name === 'AbortError') {
            this.info('Download cancelled by user.');
          } else {
            console.error('Download error:', error);
            let errorMessage = error.message;
            
            // Provide more user-friendly error messages
            if (errorMessage.includes('Failed to fetch')) {
              errorMessage = 'Unable to connect to server. Please check your internet connection and try again.';
            } else if (errorMessage.includes('timeout')) {
              errorMessage = 'Server timeout. The backend might be overloaded. Please try again in a moment.';
            } else if (errorMessage.includes('CORS')) {
              errorMessage = 'Network security error. Please try again or use the mobile app for better reliability.';
            }
            
            this.error(`${errorMessage} For the most reliable downloads, use our mobile app.`);
          }
          this.hideProgress();
        } finally {
          this.setLoading(false);
          this.abortCtrl = null;
        }
      }

      async startDownloadFlow(videoData) {
        const filename = this.resolveFilename(videoData);
        this.updateProgress(30, this.isAudioMode ? 'Preparing audio download…' : 'Preparing video download…');

        try {
          // Create new abort controller for download
          const downloadAbortCtrl = new AbortController();
          this.abortCtrl = downloadAbortCtrl;

          const downloadUrl = videoData.url || videoData.download_url || videoData.downloadUrl;
          if (!downloadUrl) {
            throw new Error('No download URL provided by server');
          }

          this.updateProgress(40, 'Starting download…');

          // First try direct download with fetch
          try {
            const response = await fetch(downloadUrl, { 
              signal: downloadAbortCtrl.signal,
              mode: 'cors',
              credentials: 'omit',
              headers: {
                'User-Agent': 'Unisaver-Web/1.0'
              }
            });

            if (!response.ok) {
              throw new Error(`Download failed with status ${response.status}`);
            }

            const contentLength = parseInt(response.headers.get('Content-Length')) || 0;
            const reader = response.body?.getReader();

            if (reader && contentLength > 0) {
              // Stream download with progress
              let receivedLength = 0;
              const chunks = [];

              while (true) {
                const { done, value } = await reader.read();
                if (done) break;

                chunks.push(value);
                receivedLength += value.length;

                const progress = Math.min(95, 40 + (receivedLength / contentLength) * 50);
                this.updateProgress(progress, `Downloading… ${Math.round((receivedLength / contentLength) * 100)}%`);
              }

              const blob = new Blob(chunks, { 
                type: response.headers.get('Content-Type') || (this.isAudioMode ? 'audio/mpeg' : 'video/mp4') 
              });
              
              this.triggerDownload(blob, filename);
              this.updateProgress(100, 'Download completed!');
              this.success('Download completed successfully!');
              
            } else {
              // Fallback to blob download
              const blob = await response.blob();
              this.triggerDownload(blob, filename);
              this.updateProgress(100, 'Download completed!');
              this.success('Download completed successfully!');
            }

          } catch (downloadError) {
            if (downloadError.name === 'AbortError') {
              throw downloadError;
            }
            
            // If direct download fails, try opening in new tab
            this.info('Direct download blocked by browser. Opening file in new tab…');
            this.updateProgress(95, 'Opening download…');
            this.openInNewTab(downloadUrl, filename);
            this.updateProgress(100, 'Opened in new tab');
            this.success('File opened in new tab. Right-click and save to download.');
          }

          setTimeout(() => this.hideProgress(), 2000);

        } catch (error) {
          if (error.name === 'AbortError') {
            throw error;
          }
          throw new Error(`Download failed: ${error.message}`);
        }
      }

      resolveFilename(videoData) {
        let name = videoData.filename || videoData.title || 'unisaver-download';
        
        // Clean filename and add appropriate extension
        if (this.isAudioMode && !/\.(mp3|m4a|aac|wav)$/i.test(name)) {
          name = name.replace(/\.(mp4|mov|avi|webm|mkv|ts)$/i, '') + '.mp3';
        } else if (!this.isAudioMode && !/\.(mp4|mov|avi|webm|mkv)$/i.test(name)) {
          name = name.replace(/\.(mp3|m4a|aac|wav)$/i, '') + '.mp4';
        }
        
        // Remove invalid filename characters
        name = name.replace(/[<>:"/\\|?*\x00-\x1F]/g, '').trim();
        
        if (!name) {
          name = this.isAudioMode ? 'unisaver-audio.mp3' : 'unisaver-video.mp4';
        }
        
        // Ensure file extension exists
        if (!/\.[a-z0-9]{2,4}$/i.test(name)) {
          name += this.isAudioMode ? '.mp3' : '.mp4';
        }
        
        return name;
      }

      triggerDownload(blob, filename) {
        try {
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = filename;
          a.rel = 'noopener';
          a.target = '_blank';
          a.style.display = 'none';
          
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          
          // Clean up object URL after a delay
          setTimeout(() => URL.revokeObjectURL(url), 100);
        } catch (error) {
          console.error('Download trigger failed:', error);
          throw new Error('Failed to trigger download');
        }
      }

      openInNewTab(url, filename) {
        try {
          const a = document.createElement('a');
          a.href = url;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.download = filename || '';
          a.style.display = 'none';
          
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
        } catch (error) {
          // Fallback to window.open
          const win = window.open(url, '_blank', 'noopener,noreferrer');
          if (!win) {
            this.error('Popup blocked. Please allow popups for this site or try again.');
          }
        }
      }

      // DICLOTRANS: Enhanced interstitial with better UX
      showInterstitialAd() {
        const overlay = document.createElement('div');
        overlay.id = 'unisaver-ad-overlay';
        overlay.style.cssText = `
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.85);
          z-index: 9999;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(5px);
          animation: fadeIn 0.3s ease;
        `;
        
        const box = document.createElement('div');
        box.style.cssText = `
          background: #fff;
          padding: 24px;
          border-radius: 16px;
          max-width: 420px;
          width: 92%;
          text-align: center;
          position: relative;
          box-shadow: 0 10px 30px rgba(0,0,0,0.3);
          animation: slideIn 0.3s ease;
        `;
        
        box.innerHTML = `
          <button id="closeAdBtn" aria-label="Close" style="
            position: absolute;
            top: 10px;
            right: 14px;
            background: none;
            border: none;
            font-size: 26px;
            cursor: pointer;
            color: #999;
            transition: color 0.2s ease;
          ">&times;</button>
          <div style="font-size: 2.6rem; margin-bottom: 12px;">⏳</div>
          <h3 style="margin: 0 0 8px; color: #333;">Preparing your download…</h3>
          <div id="diclotrans-interstitial" style="
            min-height: 180px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px dashed #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            margin: 12px 0;
            position: relative;
          ">
            <div style="text-align: center;">
              <div style="font-size: 1.5rem; margin-bottom: 8px;">📺</div>
              <div>Loading advertisement...</div>
            </div>
          </div>
          <p style="font-size: 14px; color: #666; margin-top: 8px;">
            Closes automatically in <span id="adCountdown" style="font-weight: 700; color: #2196F3;">5</span> seconds
          </p>
        `;
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          @keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
          #closeAdBtn:hover { color: #333 !important; }
        `;
        document.head.appendChild(style);
        
        overlay.appendChild(box);
        document.body.appendChild(overlay);

        // Inject Diclotrans interstitial script
        try {
          const script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = 'https://cdn.diclotrans.com/sdk/v1/54206/1ed94eb32df4f735d40d675162e081d05955e11d/lib.js';
          script.onerror = () => {
            box.querySelector('#diclotrans-interstitial').innerHTML = `
              <div style="text-align: center; color: #999;">
                <div style="font-size: 1.5rem; margin-bottom: 8px;">🎯</div>
                <div>Ad content unavailable</div>
              </div>
            `;
          };
          box.querySelector('#diclotrans-interstitial').appendChild(script);
        } catch (error) {
          console.log('Ad script loading failed:', error);
        }

        // Close functionality
        const closeAd = () => {
          if (document.body.contains(overlay)) {
            overlay.style.animation = 'fadeIn 0.3s ease reverse';
            setTimeout(() => {
              if (document.body.contains(overlay)) {
                document.body.removeChild(overlay);
              }
              if (document.head.contains(style)) {
                document.head.removeChild(style);
              }
            }, 300);
          }
        };

        // Close button event
        box.querySelector('#closeAdBtn').onclick = closeAd;
        
        // Auto-close countdown
        let seconds = 5;
        const countdownEl = box.querySelector('#adCountdown');
        const countdown = setInterval(() => {
          seconds--;
          if (countdownEl) countdownEl.textContent = String(seconds);
          if (seconds <= 0) {
            clearInterval(countdown);
            closeAd();
          }
        }, 1000);

        // Close on overlay click (but not on box click)
        overlay.addEventListener('click', (e) => {
          if (e.target === overlay) closeAd();
        });
      }
    }

    // Initialize the downloader when page loads
    document.addEventListener('DOMContentLoaded', () => {
      try {
        new UnisaverDownloader();
        console.log('Unisaver downloader initialized successfully');
      } catch (error) {
        console.error('Failed to initialize Unisaver downloader:', error);
        
        // Show fallback message if initialization fails
        const messageContainer = document.getElementById('messageContainer');
        if (messageContainer) {
          messageContainer.innerHTML = `
            <div class="message error">
              <i class="fa-solid fa-triangle-exclamation"></i>
              Downloader initialization failed. Please refresh the page or try using our mobile app.
            </div>
          `;
        }
      }
    });

    // Add global error handler for unhandled promise rejections
    window.addEventListener('unhandledrejection', (event) => {
      console.error('Unhandled promise rejection:', event.reason);
      
      const messageContainer = document.getElementById('messageContainer');
      if (messageContainer && !messageContainer.innerHTML.includes('error')) {
        messageContainer.innerHTML = `
          <div class="message error">
            <i class="fa-solid fa-triangle-exclamation"></i>
            An unexpected error occurred. Please try again or use our mobile app for better reliability.
          </div>
        `;
      }
      
      // Prevent the default browser behavior
      event.preventDefault();
    });
  </script>
</body>
</html>
